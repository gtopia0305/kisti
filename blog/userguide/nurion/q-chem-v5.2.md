# 누리온 Q-CHEM v5.2 사용자 지침서

본 문서는 누리온 시스템에서 Q-Chem 소프트웨어 사용을 위한 기초적인 정보를 제공하고 있습니다.&#x20;

따라서, Q-Chem 소프트웨어 사용법 및 누리온/리눅스 사용법 등은 포함되어 있지 않습니다. &#x20;

누리온/리눅스 사용법에 대한 정보는 KISTI 홈페이지 (https://www.ksc.re.kr)의 기술지원 > 지침서 내 누리온 사용자 지침서 등을 참고하시기 바랍니다.

&#x20;

### **1. Q-Chem 소개**&#x20;

&#x20;\- Q-Chem은 분자구조, 반응성, 진동 및 NMR 스펙트럼 등을 예측하는 제일원리 양자 화학 패키지입니다.

&#x20;\- Q-Chem v5에는 최신 고성능 DFT/HF 및 높은 수준의 post-HF 계산 방법을 제공합니다.

&#x20;\- 자세한 사항은 Q-Chem 홈페이지를 방문하시기 바랍니다. (http://q-chem.com)

&#x20;

### **2. 소프트웨어 설치 정보**

**(1) 설치 버전**&#x20;

&#x20;\- Q-Chem v5.2

&#x20;****&#x20;

**(2) 설치 위치**&#x20;

&#x20;\- /apps/commercial/QCHEM/V5.2 (KNL/SKL에 관계없이 동일한 경로 사용)

&#x20;

**(3) 실행 파일 경로**&#x20;

&#x20;\- /apps/commercial/QCHEM/V5.2/bin

&#x20;

### **3. 소프트웨어 실행 방법**

**(1) 스케줄러 작업 스크립트 파일 작성**

&#x20; \- 누리온 시스템에서는 로그인 노드에서 PBS Pro라는 스케줄러를 사용하여 작업을 제출해야 합니다.

&#x20; \- KNL/SKL에서 Q-Chem을 이용하기 위해서는 특별한 환경 설정 없이 스케줄러 스크립트 파일 내 환경 설정 변수를 이용합니다.&#x20;

&#x20; \- 예제 파일 :  /apps/commercial/test\_samples/QCHEM/qchem\_knl.sh (KNL)

&#x20;                   /apps/commercial/test\_samples/QCHEM/qchem\_skl.sh  (SKL)

&#x20;

※ 아래는 누리온 시스템에서의 작업 제출 예제입니다.

| <p>#!/bin/bash</p><p>#PBS -V</p><p>#PBS -N q-chem_test</p><p>#PBS -q normal </p><p>#PBS -l select=1:ncpus=32:mpiprocs=32:ompthreads=1</p><p>#PBS -l walltime=04:00:00</p><p>#PBS -A qchem</p><p> </p><p>cd ${PBS_O_WORKDIR}</p><p>touch ${PBS_JOBID}</p><p> </p><p>##### Do not Edit ####</p><p>export QC=/apps/commercial/QCHEM/V5.2</p><p>export QCAUX=$QC/qcaux</p><p>export QCPLATFORM=LINUX_Ix86_64</p><p>export QCRSH=ssh</p><p>export PATH=$QC/bin:$PATH</p><p>export QCSCRATCH=/scratch/${USER}/qchem</p><p>export QCPARALLEL=TRUE</p><p> </p><p>NPROCS=`wc -l &#x3C; ${PBS_NODEFILE}`   # of core for parallel</p><p>####################</p><p> </p><p>qchem -pbs -np ${NPROCS} test.in test.out</p><p> </p><p>exit 0</p> |
| ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |

&#x20;\- 위에서 파란색으로 표기된 부분은 사용자가 적절히 수정해야 합니다.

&#x20;\- Application 종류(-A) : qchem으로 설정합니다. (없을 경우 작업 제출이 되지 않습니다.)

&#x20;\- Queue 종류(-q) : KNL(68 cores)을 사용할 경우 queue는 normal, SKL(40 cores)을 사용할 경우 norm\_skl을 사용합니다.

&#x20;\- 작업 리소스(-l) : 수행하는 계산의 종류(HF/DFT/RI-MP2 등)에 따라서, OpenMP, MPI, Hybrid(MPI+OpenMP) 병렬 지원이 다르므로,&#x20;

Q-Chem 매뉴얼을 참조하여 수행하는 작업에 맞게 수정하여 사용합니다.&#x20;

&#x20;\- 각 사용자별 홈 디렉터리 disk quota 제한이 설정되어 있으므로, 스크래치 디렉터리에서 작업 수행을 권장합니다.

&#x20;\- 사용자별 스크래치 디렉터리는 /scratch2/$USER입니다.

&#x20;\- 스크래치 디스크는 작업 종료 후 일정 시간(2018년 12월 현재 정책: 15일)이 지나면 삭제되기 때문에, 작업이 완료된 경우 빠른 시일 내에 백업하시길 권장합니다.&#x20;

&#x20;\- 기타 PBS에 관련된 명령어 및 사용법은 누리온 사용자 지침서를 참조하시면 됩니다.

&#x20;

**(2) 작업 제출 방법**

&#x20;\- 예제 : 스크립트 파일 이름이 qchem\_knl.sh 인 경우

|   $ qsub qchem\_knl.sh |
| ---------------------- |

\
**(3) 작업 상태 확인**

|   $ qstat (또는 qstat -u $USER)  |
| ------------------------------ |

\
**(4) 제출된 작업을 강제로 종료**

&#x20;\- 사용 방법 : qdel {작업ID}

&#x20;\- 작업ID는 qstat -u $USER 명령어 실행 시 제일 왼쪽에 표시 되는 정보이다.(ex. 123456789.pbs)

&#x20;\- 예제 : 작업ID 가 123456789.pbs 인 경우

|   $ qdel 123456789.pbs |
| ---------------------- |

&#x20;

### **4. 테스트 환경**

&#x20; \- Q-Chem 5.2 설치 및 동작을 테스트하기 위해 사용한 Q-Chem input은 다음과 같습니다.&#x20;

&#x20; \- 기타 예제 파일들은 /apps/commercial/QCHEM/V5.2/samples에 들어 있습니다.

| <p>$comment</p><p>glutamine    PW91-PW91/6-311G   Single point energy</p><p>$end</p><p> </p><p>$rem</p><p>exchange = pw91  GGA91 exchange</p><p>correlation = pw91  GGA91 correlation</p><p>basis = 6-311g  Basis Set</p><p>incdft = false</p><p>$end</p><p> </p><p>$molecule</p><p>0  1</p><p>6 -1.23973536  0.28356377  1.19837231</p><p>6 -2.02294832 -0.05092617 -0.05720877</p><p>6 -1.16425833  0.11331783 -1.30449280</p><p>6 -0.98613533  1.59214578 -1.68594879</p><p>1 -0.90978634  2.20609276 -0.75032580</p><p>7 -2.17109328  2.08999376 -2.42195075</p><p>1 -2.05935234  3.06007974 -2.62592882</p><p>1 -2.29374737  1.58214382 -3.27314382</p><p>6  0.30933064  1.74807278 -2.47708875</p><p>8  0.46060067  1.82271377 -3.68385774</p><p>8  1.43313271  1.82435183 -1.73186779</p><p>1  2.19459659  1.92147581 -2.29499584</p><p>1 -1.62354934 -0.45353122 -2.14053374</p><p>1 -0.17217135 -0.35508116 -1.14187479</p><p>1 -2.92050928  0.59796779 -0.12054282</p><p>1 -2.40883034 -1.08879312 -0.00201583</p><p>7 -0.37904635 -0.70950719  1.73604530</p><p>1 -0.69979234 -1.64213117  1.61126131</p><p>1 -0.04175234 -0.53298124  2.65596718</p><p>8 -1.24084032  1.38053079  1.73902721</p><p>$end</p><p> </p> |
| ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |

\
