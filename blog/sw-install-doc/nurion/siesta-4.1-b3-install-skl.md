---
description: 슈퍼컴퓨팅인프라센터 2018. 11. 30. 15:27
---

# 누리온 SIESTA 4.1-b3 설치(SKL)

KISTI 슈퍼컴퓨터센터의 누리온 시스템에 siesta-4.1-b3 source 버전으로 설치 하는 방법에 대하여 소개 한다.



**1. 설치 환경**

|   **구분**       | **내용**                     |
| -------------- | -------------------------- |
|  대상 시스템        | 누리온                        |
|  OS Version    | 리눅스 / CentOS 7.3           |
|  CPU           | Intel(R) Xeon(R) Gold 6148 |
|  컴파일러          | Intel 2017.5 Version       |
|  MPI           | IntelMPI 2017.5 Version    |
| <p> 기타<br></p> | Intel MKL Math Library     |



**2. 설치 전 환경 설정**

KISTI 시스템은 PATH, LD\_LIBRARY\_PATH 등을 쉽게 하기 위하여 OpenSource 인 Environment Modules(http://modules.sourceforge.net)이 구성되어 있고, 이하 설치 소개 에서는 module load를 이용한 환경 설정 방법을 이용한다.

****

**\[ 환경 설정 ]**

|  $ module load craype-x86-skylake intel/17.0.5 impi/17.0.5 netcdf-hdf5-parallel/4.6.1 |
| ------------------------------------------------------------------------------------- |



**3. 설치 과정**

&#x20;설치 과정 소개는 tar 를 이용한 압축 해제 방법과 설정 방법등 진행 절차를 위주로 설명하고, 소스 파일 다운로드 등은 생략한다. &#x20;

|   **설치과정**                                                                                                                                                                                                                                        |
| ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| <p>$ tar -xvf siesta-4.1-b3.tar.gz</p><p>$ cd siesta-4.1-b3</p><p>$ cd Obj</p><p>$ sh ../Src/obj_setup.sh</p><p>$ cp intel.make arch.make</p><p>$ vi arch.make 수정</p><p> <strong></strong>   - - - [arch.make 파일 수정 내용] 참고 - - -</p><p>$ make</p> |



\[arch.make 파일 수정 내용]

| <p># </p><p># Copyright (C) 1996-2016 The SIESTA group</p><p>#  This file is distributed under the terms of the</p><p>#  GNU General Public License: see COPYING in the top directory</p><p>#  or http://www.gnu.org/copyleft/gpl.txt.</p><p># See Docs/Contributors.txt for a list of contributors.</p><p>#</p><p>#-------------------------------------------------------------------</p><p># arch.make file for gfortran compiler.</p><p># To use this arch.make file you should rename it to</p><p>#   arch.make</p><p># or make a sym-link.</p><p># For an explanation of the flags see DOCUMENTED-TEMPLATE.make</p><p></p><p>.SUFFIXES:</p><p>.SUFFIXES: .f .F .o .c .a .f90 .F90</p><p></p><p>SIESTA_ARCH = unknown</p><p></p><p>CC = mpiicc</p><p>FPP = $(FC) -E -P</p><p>FC = mpiifort</p><p>FC_SERIAL = ifort</p><p></p><p>FFLAGS = -O2 -xCORE-AVX512 -fPIC</p><p></p><p>AR = ar</p><p>RANLIB = ranlib</p><p></p><p>SYS = nag</p><p></p><p>SP_KIND = 4</p><p>DP_KIND = 8</p><p>KINDS = $(SP_KIND) $(DP_KIND)</p><p></p><p>LDFLAGS = -mkl=cluster</p><p></p><p>COMP_LIBS = libsiestaLAPACK.a libsiestaBLAS.a</p><p></p><p>FPPFLAGS = $(DEFS_PREFIX)-DFC_HAVE_ABORT</p><p></p><p>MPI_INTERFACE = libmpi_f90.a</p><p></p><p>MPI_INCLUDE = .</p><p></p><p>FPPFLAGS += -DMPI</p><p></p><p>LIBS = -mkl=cluster -L/apps/compiler/intel/17.0.5/impi/17.0.5/applib2/x86-skylake/netcdf-hdf5-parallel/4.6.1/lib -lnetcdf</p><p></p><p># Dependency rules ---------</p><p></p><p>FFLAGS_DEBUG = -g -O1   # your appropriate flags here...</p><p></p><p># The atom.f code is very vulnerable. Particularly the Intel compiler</p><p># will make an erroneous compilation of atom.f with high optimization</p><p># levels.</p><p>atom.o: atom.F</p><p>            <strong></strong>            $(FC) -c $(FFLAGS_DEBUG) $(INCFLAGS) $(FPPFLAGS) $(FPPFLAGS_fixed_F) $&#x3C; </p><p>pdos2k.o: pdos2k.F</p><p>          $(FC) -c $(INCFLAGS) $(FPPFLAGS) $(FPPFLAGS_fixed_F) $&#x3C;</p><p>pdos3k.o: pdos3k.F</p><p>          $(FC) -c $(INCFLAGS) $(FPPFLAGS) $(FPPFLAGS_fixed_F) $&#x3C;</p><p></p><p>.c.o:</p><p>          $(CC) -c $(CFLAGS) $(INCFLAGS) $(CPPFLAGS) $&#x3C; </p><p>.F.o:</p><p>          $(FC) -c $(FFLAGS) $(INCFLAGS) $(FPPFLAGS) $(FPPFLAGS_fixed_F)  $&#x3C; </p><p>.F90.o:</p><p>          $(FC) -c $(FFLAGS) $(INCFLAGS) $(FPPFLAGS) $(FPPFLAGS_free_F90) $&#x3C; </p><p>.f.o:</p><p>          $(FC) -c $(FFLAGS) $(INCFLAGS) $(FCFLAGS_fixed_f)  $&#x3C;</p><p>.f90.o:</p><p>          $(FC) -c $(FFLAGS) $(INCFLAGS) $(FCFLAGS_free_f90)  $&#x3C;</p><p></p> |
| ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
