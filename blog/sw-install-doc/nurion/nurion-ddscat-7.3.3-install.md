# 누리온 DDSCAT-7.3.3 설치 소개

KISTI 슈퍼컴퓨팅센터의 누리온 시스템에 DDSCAT-7.3.3 Source 버전으로 설치하는 방법에 대하여 소개한다.

&#x20;

**1. 설치 환경**

&#x20;

&#x20;

|  **구분**      | **내용**                      |
| ------------ | --------------------------- |
|  대상 시스템      |  누리온                        |
|  OS Version  |  리눅스 / CentOS 7.7           |
|  CPU         |  Intel(R) Xeon(R) Gold 6126 |
|  컴파일러        |  intel 2018.3               |
|  MPI         |  intel mpi 2018.3           |
|  기타          |                             |

&#x20;

**2. 설치 전 환경 설정**

누리온 시스템은 PATH, LD\_LIBRARY\_PATH 등을 쉽게 설정하기 위하여&#x20;

환경설정 툴인 Modules(http://modules.sourceforge.net)이 구성되어 있고,

&#x20;

이하 설치 소개에서는 module load를 이용한 환경 설정 방법을 이용한다.

&#x20;

\[ 환경 설정 ]

```
 $ module load intel/18.0.3 impi/18.0.3
```

&#x20;**3. DDSCAT-7.3.3 버전 설치 과정**

&#x20;설치 과정 소개는 tar 를 이용한 압축 해제 방법과 설정 방법등 진행 절차를 위주로 설명하고,

&#x20;소스 파일 다운로드 등은 생략한다.  &#x20;

| 설치 과정                                                                                                                                                                                                                     |
| ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| <p> $ tar -xzvf ddscat7.3.3_200717.tgz<br> $ cd src<br> $ cp $MKLROOT/include/mkl_dfti.f90 .<br> $ vi Makefile<br> - - - - - [ Makefile 파일 수정 내용] 참고 - - - - -<br> <br> $ make ddscat<br> <br> $ ls ddscat<br> ddscat</p> |

&#x20;

| \[Makefile 파일 수정 내용]                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| <p>#### line 114 ~ 125 주석처리 ####<br>110 # 1.  gfortran compiler<br>111 #     sp + no MKL + no OpenMP + no MPI<br>112 #<br>113 # define the following:<br>114 # PRECISION   = sp<br>115 # CXFFTMKL.f  = cxfft3_mkl_fake.f90<br>116 # CXFFTMKL.o  = cxfft3_mkl_fake.o<br>117 # MKLM        =<br>118 # DOMP        =<br>119 # OPENMP      =<br>120 # MPI.f       = mpi_fake.f90<br>121 # MPI.o       = mpi_fake.o<br>122 # DMPI        =<br>123 # FC      = gfortran<br>124 # FFLAGS      = -O2<br>125 # LFLAGS      =<br><br><br><br><br>#### line 266 ~ 277 주석처리 해제 및 수정 ####<br>258 # 8.  ifort compiler (via mpif90)<br>259 #     sp + MKL + OpenMP + MPI<br>260 <br>261 # on some systems, before compiling, type<br>262 #   module purge<br>263 #   module load intel-mkl openmpi<br>264 <br>265 # define the following:<br>266 PRECISION  = sp<br>267 CXFFTMKL.f = $(MKL_f)<br>268 CXFFTMKL.o = $(MKL_o)<br>269 MKLM       = $(MKL_m)<br>270 DOMP       = -Dopenmp<br>271 OPENMP     = <mark style="color:blue;">-qopenmp</mark><br>272 MPI.f      = $(MPI_f)<br>273 MPI.o      = $(MPI_o)<br>274 DMPI       = -Dmpi<br>275 FC     = <mark style="color:blue;">mpiifort</mark><br>276 FFLAGS     = -O2<br>277 LFLAGS     = <mark style="color:blue;">-traceback -mkl=parallel -lmpi</mark><br><br></p> |

**4. 실기영상**

{% embed url="https://youtu.be/GC1APApZuUE" %}
\[누리온] DDSCAT7.3.3 설
{% endembed %}

&#x20;
